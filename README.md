# Microstrip Patch Antenna Simulation and Analysis

This repository provides a complete workflow for designing, simulating, and analyzing a microstrip patch antenna using Ansys HFSS and Python. It includes the HFSS project files, Python scripts for post-processing results, and documentation for setup and interpretation.

## Table of Contents

- [Overview](#overview)
- [Project Structure](#project-structure)
- [Requirements](#requirements)
- [Getting Started](#getting-started)
- [Simulation Process in HFSS](#simulation-process-in-hfss)
- [Data Analysis With Python](#data-analysis-with-python)
- [Interpreting the Results](#interpreting-the-results)
- [Improving the Antenna Design](#improving-the-antenna-design)
- [Documentation](#documentation)
- [License](#license)

---

## Overview

This project aims to design a microstrip patch antenna operating near 28 GHz (adjust to your design frequency if different). Using Ansys HFSS, we set up the geometry, apply the necessary excitations, and run simulations to determine the antenna’s input match (S11 parameter) and far-field radiation characteristics. Post-processing the results in Python allows for clear visualization and deeper insight into antenna performance, guiding iterative design improvements.

---

## Project Structure

```
Microstrip_Patch_Antenna_Simulation/
├─ design_files/
│  ├─ Project1.aedt
│  └─ Project1.aedtresults/
│
├─ scripts/
│  ├─ analyze_S11.py
│  ├─ analyze_radiation.py
│  └─ requirements.txt
│
├─ results/
│  ├─ S11_data.csv
│  ├─ S11_plot.png
│  ├─ radiation_pattern.csv
│  └─ radiation_pattern.png
│
├─ docs/
│  ├─ README.md
│  └─ report.pdf
│
└─ LICENSE (optional)
```

**Directory Details:**

- **design_files**: Contains the HFSS project (`.aedt`) and results folder. Open and run these files in HFSS to view and/or re-run simulations.
- **scripts**: Python scripts for processing and plotting simulation results.
  - `analyze_S11.py`: Plots S11 (reflection coefficient) vs. frequency from exported CSV.
  - `analyze_radiation.py`: Plots far-field radiation patterns (gain vs. angle) in 2D or 3D.
  - `requirements.txt`: Lists required Python packages.
- **results**: Contains exported data (CSV files) and resulting plots (PNG files).
  - `S11_data.csv` and `radiation_pattern.csv`: Exported data from HFSS.
  - `S11_plot.png` and `radiation_pattern.png`: Plots generated by the Python scripts.
- **docs**: Documentation, including this `README.md` and `report.pdf`, which can provide detailed explanation, methodology, and results.
- **LICENSE (optional)**: If you wish to open-source the project, include an appropriate license file.

---

## Requirements

- **HFSS** (Ansys Electronics Desktop): To view or modify the antenna design and run simulations.
- **Python 3.x**: For data analysis and visualization.
- Python packages listed in `scripts/requirements.txt`, such as:
  - numpy
  - pandas
  - matplotlib

Install dependencies with:
```bash
pip install -r scripts/requirements.txt
```

---

## Getting Started

1. **Clone the Repository**:
   ```bash
   git clone https://github.com/yourusername/Microstrip_Patch_Antenna_Simulation.git
   cd Microstrip_Patch_Antenna_Simulation
   ```

2. **HFSS Setup**:
   - Ensure HFSS is installed and licensed on your system.
   - Open `Project1.aedt` from the `design_files` directory.

3. **Python Environment** (optional but recommended):
   ```bash
   python -m venv hfss_env
   source hfss_env/bin/activate   # On Windows: hfss_env\Scripts\activate
   pip install -r scripts/requirements.txt
   ```

---

## Simulation Process in HFSS

1. **Open Project**:
   - Launch Ansys Electronics Desktop and open `Project1.aedt`.

2. **Examine the Geometry**:
   - Check the patch dimensions, substrate thickness, and ground plane setup.
   - Verify the lumped port excitation and radiation boundary conditions.

3. **Run the Simulation**:
   - Right-click the solution setup (e.g., “Setup2”) and select **Analyze All**.
   - HFSS will adaptively refine the mesh and compute S-parameters at the solution frequency. If a frequency sweep is defined, it will generate data over the specified range.

4. **Exporting Data**:
   - **S-Parameters**: Go to the S11 plot in HFSS, right-click, select **Export** to CSV.
   - **Far-Field Data**: After setting a Far Field Setup (e.g., Infinite Sphere), go to **HFSS > Results > Create Far Fields Report** and export the radiation data to a CSV file.

---

## Data Analysis With Python

1. **Plot S11**:
   - Place `S11_data.csv` in the `results` directory.
   - Run:
     ```bash
     cd scripts
     python analyze_S11.py
     ```
   - This generates `S11_plot.png` in `results/`.

2. **Plot Radiation Pattern**:
   - Place `radiation_pattern.csv` in the `results` directory.
   - Run:
     ```bash
     python analyze_radiation.py
     ```
   - This generates `radiation_pattern.png` in `results/`.

---

## Interpreting the Results

- **S11 Plot**: Look for dips below -10 dB indicating good impedance matching at the desired frequency. A deeper, narrower dip often means a strong resonance and better bandwidth.

- **Radiation Pattern**: Check the gain and beam direction. High gain indicates good directivity. Uniform patterns may indicate an omnidirectional antenna, whereas a pronounced lobe shows directional behavior.

If your target frequency is not well-matched or the radiation pattern is not as intended, consider adjusting antenna dimensions, substrate parameters, feed line position, or trying a different port definition.

---

## Improving the Antenna Design

1. **Tune Dimensions**: Modify patch length, width, or feed location in HFSS and re-run simulations.
2. **Material Parameters**: Check substrate permittivity or thickness.
3. **Boundary Conditions**: Ensure the radiation boundary (air box) is sufficiently large.
4. **Iterate and Compare**: Export new S11 and radiation data, run the Python scripts again, and compare results to previous iterations.

---

## Documentation

- **README.md**: This document offers a quick start guide and an overview of the project.
- **report.pdf** (optional): A detailed report can include theoretical background, design equations, parametric studies, and final results. Place it in the `docs` folder.

---

## License

Include a `LICENSE` file if you plan on sharing this project publicly under an open-source license. Common choices include MIT, BSD, or GPL.

---

**By following this workflow, you can quickly iterate on your antenna design, visualize key performance metrics, and refine the geometry until you achieve your desired performance at your target frequency.**
